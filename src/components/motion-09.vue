<script setup>
// Motion 09: whileInView æ»¾å‹•é€²å ´å‹•ç•«ç¯„ä¾‹
// å±•ç¤ºå››å¤§å€å¡Šçš„ä¸åŒæ»¾å‹•å‹•ç•«æ•ˆæœ
import { motion } from "motion-v";
import HeadlineMotion from "./HeadlineMotion.vue";

// å€å¡Šæ¨™é¡Œé…ç½®
const section1Title = "ç¬¬ä¸€å€å¡Šï¼šæ–‡å­—æ»‘å…¥æ•ˆæœ";
const section2Title = "ç¬¬äºŒå€å¡Šï¼šå¡ç‰‡å½ˆèµ·æ•ˆæœ";
const section3Title = "ç¬¬ä¸‰å€å¡Šï¼šä¾åºé€²å ´æ•ˆæœ";
const section4Title = ["ç¬¬å››å€å¡Šï¼šè¤‡é›œå‹•ç•«çµ„åˆ", "Complex Animation Combination", "çµåˆå¤šç¨®å‹•ç•«æ•ˆæœçš„ç¶œåˆå±•ç¤º"];

// ç¬¬ä¸‰å€å¡Šçš„é …ç›®åˆ—è¡¨
const staggerItems = [
  { id: 1, title: "é …ç›®ä¸€", desc: "å¾å·¦å´æ»‘å…¥", color: "#ff0088" },
  { id: 2, title: "é …ç›®äºŒ", desc: "å»¶é² 0.2 ç§’", color: "#4ff0b7" },
  { id: 3, title: "é …ç›®ä¸‰", desc: "å»¶é² 0.4 ç§’", color: "#0d63f8" },
  { id: 4, title: "é …ç›®å››", desc: "å»¶é² 0.6 ç§’", color: "#f7b801" }
];
</script>

<template>
  <div class="motion-09-container">
    <!-- ç¬¬ä¸€å€å¡Šï¼šæ–‡å­—æ»‘å…¥æ•ˆæœ -->
    <section class="section section-1">
      <motion.div
        :initial="{ x: -100, opacity: 0 }"
        :while-in-view="{ x: 0, opacity: 1 }"
        :transition="{ duration: 0.8, ease: 'easeOut' }"
        :viewport="{ once: true, margin: '-100px' }"
      >
        <h2 class="section-title">{{ section1Title }}</h2>
        <motion.p
          :initial="{ x: -50, opacity: 0 }"
          :while-in-view="{ x: 0, opacity: 1 }"
          :transition="{ duration: 0.6, delay: 0.3 }"
          :viewport="{ once: true }"
          class="section-desc"
        >
          ç•¶æ»¾å‹•åˆ°æ­¤å€å¡Šæ™‚ï¼Œæ¨™é¡Œå’Œæè¿°æ–‡å­—æœƒå¾å·¦å´å¹³æ»‘æ»‘å…¥ï¼Œä¸¦ä¼´éš¨é€æ˜åº¦çš„è®ŠåŒ–ã€‚
          é€™æ˜¯æœ€åŸºæœ¬çš„æ»¾å‹•é€²å ´å‹•ç•«æ•ˆæœã€‚
        </motion.p>
      </motion.div>
    </section>

    <!-- ç¬¬äºŒå€å¡Šï¼šå¡ç‰‡å½ˆèµ·æ•ˆæœ -->
    <section class="section section-2">
      <motion.div
        :initial="{ y: 100, opacity: 0, scale: 0.8 }"
        :while-in-view="{ y: 0, opacity: 1, scale: 1 }"
        :transition="{ 
          duration: 0.6, 
          type: 'spring', 
          stiffness: 100, 
          damping: 15 
        }"
        :viewport="{ once: true, margin: '-50px' }"
      >
        <h2 class="section-title">{{ section2Title }}</h2>
      </motion.div>
      
      <div class="card-grid">
        <motion.div
          v-for="(item, index) in 3"
          :key="index"
          :initial="{ y: 80, opacity: 0, scale: 0.9 }"
          :while-in-view="{ y: 0, opacity: 1, scale: 1 }"
          :transition="{ 
            duration: 0.5, 
            delay: index * 0.2,
            type: 'spring',
            stiffness: 120
          }"
          :viewport="{ once: true }"
          class="card"
        >
          <div class="card-content">
            <h3>å¡ç‰‡ {{ index + 1 }}</h3>
            <p>é€™æ˜¯ç¬¬ {{ index + 1 }} å¼µå¡ç‰‡ï¼Œæœƒä¾åºå¾ä¸‹æ–¹å½ˆèµ·é€²å ´ã€‚</p>
          </div>
        </motion.div>
      </div>
    </section>

    <!-- ç¬¬ä¸‰å€å¡Šï¼šä¾åºé€²å ´æ•ˆæœ -->
    <section class="section section-3">
      <motion.div
        :initial="{ opacity: 0, y: 50 }"
        :while-in-view="{ opacity: 1, y: 0 }"
        :transition="{ duration: 0.6 }"
        :viewport="{ once: true }"
      >
        <h2 class="section-title">{{ section3Title }}</h2>
      </motion.div>

      <div class="stagger-container">
        <motion.div
          v-for="(item, index) in staggerItems"
          :key="item.id"
          :initial="{ x: -60, opacity: 0, rotate: -5 }"
          :while-in-view="{ x: 0, opacity: 1, rotate: 0 }"
          :transition="{ 
            duration: 0.5, 
            delay: index * 0.15,
            ease: 'easeOut'
          }"
          :viewport="{ once: true, margin: '-20px' }"
          class="stagger-item"
          :style="{ borderLeftColor: item.color }"
        >
          <div class="item-indicator" :style="{ backgroundColor: item.color }"></div>
          <div class="item-content">
            <h4>{{ item.title }}</h4>
            <p>{{ item.desc }}</p>
          </div>
        </motion.div>
      </div>
    </section>

    <!-- ç¬¬å››å€å¡Šï¼šè¤‡é›œå‹•ç•«çµ„åˆ -->
    <section class="section section-4">
      <motion.div
        :initial="{ opacity: 0, scale: 0.5, rotate: -10 }"
        :while-in-view="{ opacity: 1, scale: 1, rotate: 0 }"
        :transition="{ 
          duration: 1,
          type: 'spring',
          stiffness: 80,
          damping: 20
        }"
        :viewport="{ once: true, margin: '-100px' }"
        class="complex-animation-wrapper"
      >
        <HeadlineMotion :headline="section4Title" />
      </motion.div>

      <div class="complex-grid">
        <motion.div
          :initial="{ x: -100, rotate: -45, opacity: 0 }"
          :while-in-view="{ x: 0, rotate: 0, opacity: 1 }"
          :transition="{ duration: 0.8, delay: 0.2 }"
          :viewport="{ once: true }"
          class="complex-item item-1"
        >
          <div class="rotating-element"></div>
          <p>æ—‹è½‰é€²å ´</p>
        </motion.div>

        <motion.div
          :initial="{ y: -100, scale: 0, opacity: 0 }"
          :while-in-view="{ y: 0, scale: 1, opacity: 1 }"
          :transition="{ 
            duration: 0.6, 
            delay: 0.4,
            type: 'spring',
            stiffness: 200
          }"
          :viewport="{ once: true }"
          class="complex-item item-2"
        >
          <div class="bouncing-element"></div>
          <p>å½ˆè·³é€²å ´</p>
        </motion.div>

        <motion.div
          :initial="{ x: 100, y: 100, opacity: 0, filter: 'blur(10px)' }"
          :while-in-view="{ x: 0, y: 0, opacity: 1, filter: 'blur(0px)' }"
          :transition="{ duration: 1, delay: 0.6 }"
          :viewport="{ once: true }"
          class="complex-item item-3"
        >
          <div class="blurring-element"></div>
          <p>æ¨¡ç³Šæ¸…æ™°åŒ–</p>
        </motion.div>
      </div>

      <!-- æœ€çµ‚æ•ˆæœï¼šçµ„åˆå‹•ç•« -->
      <motion.div
        :initial="{ 
          opacity: 0, 
          scale: 0.3, 
          y: 100, 
          rotate: 180,
          filter: 'hue-rotate(180deg)'
        }"
        :while-in-view="{ 
          opacity: 1, 
          scale: 1, 
          y: 0, 
          rotate: 0,
          filter: 'hue-rotate(0deg)'
        }"
        :transition="{ 
          duration: 1.5, 
          delay: 0.8,
          type: 'spring',
          stiffness: 60
        }"
        :viewport="{ once: true }"
        class="final-showcase"
      >
        <div class="showcase-content">
          <h3>ğŸ‰ çµ‚æ¥µå±•ç¤º</h3>
          <p>çµåˆç¸®æ”¾ã€æ—‹è½‰ã€ä½ç§»ã€æ¿¾é¡ç­‰å¤šç¨®æ•ˆæœçš„è¤‡åˆå‹•ç•«</p>
        </div>
      </motion.div>
    </section>
  </div>
</template>

<style scoped>
.motion-09-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
}

.section {
  min-height: 100vh;
  padding: 4rem 0;
  margin-bottom: 2rem;
}

.section-title {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
  color: #1a1a1a;
  text-align: center;
}

.section-desc {
  font-size: 1.1rem;
  line-height: 1.6;
  color: #666;
  max-width: 600px;
  margin: 0 auto;
  text-align: center;
}

/* ç¬¬ä¸€å€å¡Šæ¨£å¼ */
.section-1 {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 20px;
  padding: 4rem 2rem;
}

.section-1 .section-title,
.section-1 .section-desc {
  color: white;
}

/* ç¬¬äºŒå€å¡Šæ¨£å¼ */
.section-2 {
  background: #f8fafc;
  border-radius: 20px;
  padding: 4rem 2rem;
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-top: 3rem;
}

.card {
  background: white;
  border-radius: 16px;
  padding: 2rem;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  border: 1px solid #e2e8f0;
  transition: transform 0.2s ease;
}

.card:hover {
  transform: translateY(-5px);
}

.card-content h3 {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: #2d3748;
}

.card-content p {
  color: #718096;
  line-height: 1.5;
}

/* ç¬¬ä¸‰å€å¡Šæ¨£å¼ */
.section-3 {
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
  border-radius: 20px;
  padding: 4rem 2rem;
}

.stagger-container {
  margin-top: 3rem;
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
}

.stagger-item {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  border-left: 4px solid #ff0088;
}

.item-indicator {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  margin-right: 1rem;
  flex-shrink: 0;
}

.item-content h4 {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: #2d3748;
}

.item-content p {
  color: #718096;
  margin: 0;
}

/* ç¬¬å››å€å¡Šæ¨£å¼ */
.section-4 {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 20px;
  padding: 4rem 2rem;
  color: white;
}

.complex-animation-wrapper {
  text-align: center;
  margin-bottom: 4rem;
}

.complex-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  margin-bottom: 4rem;
}

.complex-item {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  padding: 2rem;
  text-align: center;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.rotating-element,
.bouncing-element,
.blurring-element {
  width: 60px;
  height: 60px;
  margin: 0 auto 1rem;
  border-radius: 50%;
}

.rotating-element {
  background: linear-gradient(45deg, #ff0088, #4ff0b7);
}

.bouncing-element {
  background: linear-gradient(45deg, #4ff0b7, #0d63f8);
}

.blurring-element {
  background: linear-gradient(45deg, #0d63f8, #f7b801);
}

.complex-item p {
  color: white;
  font-weight: 500;
}

.final-showcase {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 20px;
  padding: 3rem;
  text-align: center;
  backdrop-filter: blur(15px);
  border: 2px solid rgba(255, 255, 255, 0.3);
}

.showcase-content h3 {
  font-size: 2rem;
  margin-bottom: 1rem;
  color: white;
}

.showcase-content p {
  font-size: 1.1rem;
  color: rgba(255, 255, 255, 0.9);
  max-width: 500px;
  margin: 0 auto;
}

/* éŸ¿æ‡‰å¼è¨­è¨ˆ */
@media (max-width: 768px) {
  .motion-09-container {
    padding: 1rem;
  }
  
  .section {
    padding: 2rem 0;
  }
  
  .section-title {
    font-size: 2rem;
  }
  
  .card-grid {
    grid-template-columns: 1fr;
  }
  
  .complex-grid {
    grid-template-columns: 1fr;
  }
}
</style>